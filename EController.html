<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Excellent.js API</title>
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="style.css">
</head>

<body>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Externals</h3><ul><li><a href="external-HTMLElement.html">HTMLElement</a></li></ul><h3>Events</h3><ul><li><a href="EController.html#.event:onDestroy">onDestroy</a></li><li><a href="EController.html#.event:onInit">onInit</a></li><li><a href="EController.html#.event:onPostInit">onPostInit</a></li><li><a href="ERoot.html#.event:onInit">onInit</a></li></ul><h3>Interfaces</h3><ul><li><a href="ControlledElement.html">ControlledElement</a></li><li><a href="EController.html">EController</a></li><li><a href="ERoot.html">ERoot</a></li><li><a href="EStatistics.html">EStatistics</a></li></ul>
    <br>
    <div class="home-link">
        <a href="https://github.com/vitaly-t/excellent">GitHub</a>
    </div>
</nav>

<div id="main">
    




<section>

<header>
    
        <h2>EController</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Controller interface, attached to each controlled element in the DOM. Such elements
adhere to type <a href="ControlledElement.html">ControlledElement</a>.</p></div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line966">line 966</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="EController.html#name">name</a>,<a href="EController.html#node">node</a>,<a href="EController.html#bind">bind</a>,<a href="EController.html#depends">depends</a>,<a href="EController.html#extend">extend</a>,<a href="EController.html#find">find</a>,<a href="EController.html#findOne">findOne</a>,<a href="EController.html#.event:onInit">onInit</a>,<a href="EController.html#.event:onPostInit">onPostInit</a>,<a href="EController.html#.event:onDestroy">onDestroy</a></li>
        </ul>
    </dd>
    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="name"><span class="type-signature">(readonly) </span>name<span class="type-signature"> :string</span></h4>




<div class="description">
    <p>Full name of the controller.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line992">line 992</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="node"><span class="type-signature">(readonly) </span>node<span class="type-signature"> :<a href="ControlledElement.html">ControlledElement</a></span></h4>




<div class="description">
    <p>Source DOM element bound to this controller.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type"><a href="ControlledElement.html">ControlledElement</a></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line1001">line 1001</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="bind"><span class="type-signature"></span>bind<span class="signature">(process<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Signals the framework that the element's content has been modified to contain new child controlled
elements, and that it is time to bind those elements with the corresponding controllers.</p>
<p>This method requires that the calling controller has been initialized.</p>
<p>You should try to avoid use of synchronous bindings, as they are hardly ever necessary, while affecting
performance of the application. The binding engine implements the logic of minimizing the number of checks
against the DOM, but it works best when requests are asynchronous.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>process</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>
|

<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Determines how to process the binding:</p>
<ul>
<li><em>any falsy value (default):</em> the binding will be done asynchronously;</li>
<li><em>a function:</em> binding is asynchronous, calling the function when finished;</li>
<li><em>any truthy value, except a function type:</em> forces synchronous binding.</li>
</ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line1066">line 1066</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="depends"><span class="type-signature"></span>depends<span class="signature">(ctrlNames)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Verifies that each controller in the list of dependencies exists, or else throws an error.
It is normally used during the controller's construction.</p>
<p>This optional level of verification is mainly useful when using dynamically injected controllers
(not just the ones through method <a href="EController.html#extend">extend</a>), as it is best to verify such
dependencies before trying to use them.</p>
<p>Note however, that this method may not see controllers registered dynamically.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ctrlNames</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>List of controller names. It should include all controller names that are due to be extended
(via method <a href="EController.html#extend">extend</a>), plus the ones that can be requested dynamically.</p>
<p>Controller names must adhere to JavaScript open-name syntax.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line1171">line 1171</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="EController.html#extend">extend</a></li>
        </ul>
    </dd>
    

    
</dl>


















        
            

    

    
    <h4 class="name" id="extend"><span class="type-signature"></span>extend<span class="signature">(ctrlName, local<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="EController.html">EController</a>|Array.&lt;<a href="EController.html">EController</a>>}</span></h4>
    

    



<div class="description">
    <p>Extends other controller(s) with new functionality, thus providing functional inheritance.</p>
<p>It creates and returns a new controller(s), according to the parameters. But if you specify a controller
name that's already bound to the element, that controller is returned instead, to be reused, because
only a single controller type can be bound to any given element.</p>
<p>This method can only be called during event <a href="EController.html#.event:onInit">onInit</a>.</p>
<p>Note that while the calling controller has immediate access to extended controllers, as they are returned
by the method, other controllers can communicate with them only during or after event
<a href="EController.html#.event:onPostInit">onPostInit</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ctrlName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Either a single controller name, or an array of names.
Names must adhere to JavaScript open-name syntax.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>local</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>When <code>true</code>, newly created controllers are not registered in the global map,
so global search methods <a href="ERoot.html#find">ERoot.find</a> and <a href="ERoot.html#findOne">ERoot.findOne</a>
would not find them. This offers a level of encapsulation / privacy, in case access to such
extended controllers by an outside controller is undesirable.</p>
<p>Note that if the element already has the controller, it is reused, and flag <code>local</code> is then ignored.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line1089">line 1089</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <ul>
<li>if you pass in a single controller name, it returns a single controller.</li>
<li>if you pass in an array of names, it returns an array of controllers.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="EController.html">EController</a></span>
|

<span class="param-type">Array.&lt;<a href="EController.html">EController</a>></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>app.addController('myController', function(ctrl) {    // Optional early dependency diagnostics:    ctrl.depends(['dragDrop', 'removable']);    ctrl.onInit = function() {        var c = ctrl.extend(['dragDrop', 'removable']);        // c[0] = ctrl.node.controllers.dragDrop        // c[1] = ctrl.node.controllers.removable    };});</code></pre>



        
            

    

    
    <h4 class="name" id="find"><span class="type-signature"></span>find<span class="signature">(ctrlName)</span><span class="type-signature"> &rarr; {Array.&lt;<a href="EController.html">EController</a>>}</span></h4>
    

    



<div class="description">
    <p>Searches for all initialized child controllers, by a given controller name, including the extended controllers.</p>
<p>This method searches through DOM, as it needs to iterate over child elements. And because of that, even though
it searches just through a sub-set of elements, it is always slower than the global <a href="ERoot.html#find">ERoot.find</a> method.</p>
<p>It will find explicitly created controllers, if called during or after event <a href="EController.html#.event:onInit">onInit</a>,
and implicitly created controllers (extended via method <a href="EController.html#extend">extend</a>), if called during or after event
<a href="EController.html#.event:onPostInit">onPostInit</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ctrlName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Controller name to search by. It must adhere to JavaScript open-name syntax.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line1231">line 1231</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="ERoot.html#find">ERoot.find</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>List of initialized child controllers.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;<a href="EController.html">EController</a>></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="findOne"><span class="type-signature"></span>findOne<span class="signature">(ctrlName)</span><span class="type-signature"> &rarr; {<a href="EController.html">EController</a>}</span></h4>
    

    



<div class="description">
    <p>Searches for a single initialized child controller by a given controller name.</p>
<p>The method will throw an error, if multiple or no controllers found.</p>
<p>It will find explicitly created controllers, if called during or after event <a href="EController.html#.event:onInit">onInit</a>,
and implicitly created controllers (extended via method <a href="EController.html#extend">extend</a>), if called during or after event
<a href="EController.html#.event:onPostInit">onPostInit</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ctrlName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Controller name to search by. It must adhere to JavaScript open-name syntax.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line1206">line 1206</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A single child controller with the matching name.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="EController.html">EController</a></span>


    </dd>
</dl>

    





        
    

    

    
        <h3 class="subsection-title">Events</h3>

        
            

    

    
    <h4 class="name" id=".event:onDestroy">onDestroy</h4>
    

    



<div class="description">
    <p>De-initialization event handler.</p>
<p>It signals the controller that its element has been removed from the DOM,
and it is time to release any pre-allocated resources, if necessary.</p>
<p>For any modern browser, the event is triggered automatically, courtesy of <code>MutationObserver</code>,
while for older browsers, such as IE9 and IE10 it falls back on a manual background check
that runs once a second.</p>
</div>





    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">function</span>


        </li>
    </ul>









<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line1049">line 1049</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="ERoot.html#.event:onInit">ERoot.onInit</a></li>
        </ul>
    </dd>
    

    
</dl>


















        
            

    

    
    <h4 class="name" id=".event:onInit">onInit</h4>
    

    



<div class="description">
    <p>Initialization event handler.</p>
<p>It represents the state of the controller when it is ready to do the following:</p>
<ul>
<li>find explicitly bound controllers and communicate with them</li>
<li>extend other controllers (via method <a href="EController.html#extend">extend</a>)</li>
</ul>
<p>At this point you cannot locate or communicate with controllers that are being extended
(via method <a href="EController.html#extend">extend</a>). For that you need to use <a href="EController.html#.event:onPostInit">onPostInit</a> event.</p>
</div>





    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">function</span>


        </li>
    </ul>









<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line1011">line 1011</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="EController.html#.event:onPostInit">onPostInit</a>,<a href="EController.html#.event:onDestroy">onDestroy</a>,<a href="ERoot.html#.event:onInit">ERoot.onInit</a></li>
        </ul>
    </dd>
    

    
</dl>


















        
            

    

    
    <h4 class="name" id=".event:onPostInit">onPostInit</h4>
    

    



<div class="description">
    <p>Post-initialization event handler.</p>
<p>It represents the state of the controller when it is able to find and communicate
with controllers that were created during initialization through extension (via method <a href="EController.html#extend">extend</a>).</p>
<p>Controllers can only be extended during initialization (see method <a href="EController.html#extend">extend</a>),
and so the controllers being extended are initialized right after. If you need to locate and communicate
with such extended controllers, it is only possible during or after this post-initialization event.</p>
</div>





    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">function</span>


        </li>
    </ul>









<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="excellent.js.html">excellent.js</a>, <a href="excellent.js.html#line1030">line 1030</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="EController.html#.event:onInit">onInit</a>,<a href="EController.html#.event:onDestroy">onDestroy</a>,<a href="ERoot.html#.event:onInit">ERoot.onInit</a></li>
        </ul>
    </dd>
    

    
</dl>


















        
    
</article>

</section>




</div>

<br class="clear">

<footer>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"></script>
</body>
</html>